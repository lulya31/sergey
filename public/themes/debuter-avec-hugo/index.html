<!DOCTYPE html>
<html lang="en">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="map[name:Брокеры сообщений]">
<meta name="description" content="Брокеры сообщений Брокер сообщений или очередь сообщений - это программа (ПО), которая служит посредником между сервисами одной или нескольких систем. Использование подобных систем стало особенно актуально с развитием микросервисной архитектуры.
Брокер сообщений можно представить как &amp;ldquo;чёрный ящик&amp;rdquo;, в который кто-то кладёт данные, а кто-то другой забирает эти данные.
Зачем нужны брокеры сообщений?
Асинхронное взаимодействие Очереди сообщений позволяют сервисам обмениваться данными асинхронно в отличии от взаимодействия по HTTP. То есть отправитель не ждёт мгновенного ответа от получателя (и не останавливает свою работу во время ожидания), а может дальше продолжать свою работу." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="http://localhost:1313/themes/debuter-avec-hugo/" />


    <title>
        
            Брокеры сообщений :: АТТЕСТАЦИЯ 
        
    </title>





<link rel="stylesheet" href="http://localhost:1313/main.949191c1dcc9c4a887997048b240354e47152016d821198f89448496ba42e491.css" integrity="sha256-lJGRwdzJxKiHmXBIskA1TkcVIBbYIRmPiUSElrpC5JE=">



    <link rel="apple-touch-icon" sizes="180x180" href="http://localhost:1313/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
    <link rel="manifest" href="http://localhost:1313/site.webmanifest">
    <link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="http://localhost:1313/favicon.ico">
    <meta name="msapplication-TileColor" content="">



  <meta itemprop="name" content="Брокеры сообщений">
  <meta itemprop="description" content="Брокеры сообщений Брокер сообщений или очередь сообщений - это программа (ПО), которая служит посредником между сервисами одной или нескольких систем. Использование подобных систем стало особенно актуально с развитием микросервисной архитектуры.
Брокер сообщений можно представить как &ldquo;чёрный ящик&rdquo;, в который кто-то кладёт данные, а кто-то другой забирает эти данные.
Зачем нужны брокеры сообщений?
Асинхронное взаимодействие Очереди сообщений позволяют сервисам обмениваться данными асинхронно в отличии от взаимодействия по HTTP. То есть отправитель не ждёт мгновенного ответа от получателя (и не останавливает свою работу во время ожидания), а может дальше продолжать свою работу.">
  <meta itemprop="datePublished" content="2024-07-22T00:00:00+00:00">
  <meta itemprop="dateModified" content="2024-07-22T00:00:00+00:00">
  <meta itemprop="wordCount" content="868">
  <meta itemprop="image" content="http://localhost:1313/">
  <meta itemprop="keywords" content="Hugo">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://localhost:1313/"><meta name="twitter:title" content="Брокеры сообщений">
<meta name="twitter:description" content="Брокеры сообщений Брокер сообщений или очередь сообщений - это программа (ПО), которая служит посредником между сервисами одной или нескольких систем. Использование подобных систем стало особенно актуально с развитием микросервисной архитектуры.
Брокер сообщений можно представить как &ldquo;чёрный ящик&rdquo;, в который кто-то кладёт данные, а кто-то другой забирает эти данные.
Зачем нужны брокеры сообщений?
Асинхронное взаимодействие Очереди сообщений позволяют сервисам обмениваться данными асинхронно в отличии от взаимодействия по HTTP. То есть отправитель не ждёт мгновенного ответа от получателя (и не останавливает свою работу во время ожидания), а может дальше продолжать свою работу.">



    <meta property="og:url" content="http://localhost:1313/themes/debuter-avec-hugo/">
  <meta property="og:site_name" content="АТТЕСТАЦИЯ">
  <meta property="og:title" content="Брокеры сообщений">
  <meta property="og:description" content="Брокеры сообщений Брокер сообщений или очередь сообщений - это программа (ПО), которая служит посредником между сервисами одной или нескольких систем. Использование подобных систем стало особенно актуально с развитием микросервисной архитектуры.
Брокер сообщений можно представить как “чёрный ящик”, в который кто-то кладёт данные, а кто-то другой забирает эти данные.
Зачем нужны брокеры сообщений?
Асинхронное взаимодействие Очереди сообщений позволяют сервисам обмениваться данными асинхронно в отличии от взаимодействия по HTTP. То есть отправитель не ждёт мгновенного ответа от получателя (и не останавливает свою работу во время ожидания), а может дальше продолжать свою работу.">
  <meta property="og:locale" content="ru-ru">
  <meta property="og:type" content="article">
    <meta property="article:section" content="themes">
    <meta property="article:published_time" content="2024-07-22T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-07-22T00:00:00+00:00">
    <meta property="og:image" content="http://localhost:1313/">




    <meta property="article:section" content="Hugo" />



    <meta property="article:published_time" content="2024-07-22 00:00:00 &#43;0000 UTC" />











    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="http://localhost:1313/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">&gt;</span>
            <span class="logo__text ">
                $ cd /home/</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="http://localhost:1313/base/">Общие навыки</a></li><li><a href="http://localhost:1313/more/">Специализированные</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="http://localhost:1313/themes/debuter-avec-hugo/">Брокеры сообщений</a></h2>

            
            
            

            <div class="post-content">
                <h2 id="брокеры-сообщений">Брокеры сообщений</h2>
<p>Брокер сообщений или очередь сообщений - это программа (ПО), которая служит посредником между сервисами одной или нескольких систем. Использование подобных систем стало особенно актуально с развитием микросервисной архитектуры.</p>
<p>Брокер сообщений можно представить как &ldquo;чёрный ящик&rdquo;, в который кто-то кладёт данные, а кто-то другой забирает эти данные.</p>
<p><img src="https://ucarecdn.com/7c753d04-06bd-4eaa-98a2-00ad13c04733/" alt=""></p>
<p>Зачем нужны брокеры сообщений?</p>
<p><strong>Асинхронное взаимодействие</strong>
Очереди сообщений позволяют сервисам обмениваться данными асинхронно в отличии от взаимодействия по HTTP. То есть отправитель не ждёт мгновенного ответа от получателя (и не останавливает свою работу во время ожидания), а может дальше продолжать свою работу.</p>
<p><strong>Надёжность</strong>
Благодаря специальным механизмам (они будут рассмотрены в следующих уроках), брокеры могут гарантировать доставку сообщений даже в случае временных сбоев (в отличие от HTTP), а также могут поддерживать очерёдность этих сообщений.</p>
<p><strong>Гибкость масштабирования</strong>
При использовании брокеров легко масштабировать систему без значительных изменений в архитектуре.</p>
<h2 id="kafka">Kafka</h2>
<p><img src="https://selectel.ru/blog/wp-content/uploads/2022/04/img2-2.png" alt=""></p>
<p>Событие или сообщение — данные, которые поступают из одного сервиса, хранятся на узлах Kafka и читаются другими сервисами. Сообщение состоит из:</p>
<p>Key — опциональный ключ, нужен для распределения сообщений по кластеру.
Value — массив байт, бизнес-данные.
Timestamp — текущее системное время, устанавливается отправителем или кластером во время обработки.
Headers — пользовательские атрибуты key-value, которые прикрепляют к сообщению.
Продюсер — поставщик данных, который генерирует сообщения — например, служебные события, логи, метрики, события мониторинга.</p>
<p>Консьюмер — потребитель данных, который читает и использует события, пример — сервис сбора статистики.</p>
<p>продюсер (producer) — приложение или процесс, генерирующий и посылающий данные (публикующий сообщение);
потребитель (consumer) — приложение или процесс, который принимает сгенерированное продюсером сообщение;
сообщение — пакет данных, необходимый для совершения какой-либо операции (например, авторизации, оформления покупки или подписки);
брокер — узел (диспетчер) передачи сообщения от процесса-продюсера приложению-потребителю;
топик (тема) — виртуальное хранилище сообщений (журнал записей) одинакового или похожего содержания, из которого приложение-потребитель извлекает необходимую ему информацию.</p>
<p>Приложение-продюсер создает сообщение и отправляет его на узел Kafka.
Брокер сохраняет сообщение в топике, на который подписаны приложения-потребители.
Потребитель при необходимости делает запрос в топик и получает из него нужные данные.</p>
<p><img src="https://blog.skillfactory.ru/wp-content/uploads/2023/02/kafka-1-2083805.png" alt=""></p>
<h2 id="mq">MQ</h2>
<p>RabbitMQ — это брокер сообщений, который помогает разным сервисам эффективно и надежно обмениваться данными. Он работает по принципу асинхронной обработки информации, что позволяет сервисам не зависеть друг от друга и продолжать работу без ожидания ответа. RabbitMQ обеспечивает гибкость маршрутизации сообщений, их сохранность и легкую масштабируемость, что делает его незаменимым инструментом для создания сложных распределенных систем.</p>
<p>RabbitMQ состоит из нескольких основных компонентов: очередь (Queue), сообщение (Message), обменник (Exchange), биндинг (Binding), паблишер (Publisher), получатель (Consumer).</p>
<p><img src="https://blog.skillfactory.ru/wp-content/uploads/2024/04/message-queue-small.png" alt=""></p>
<p>Очередь (Queue) — это структура данных, где хранятся сообщения до того, как получатель их обработает. Очередь может быть временной или постоянной, в зависимости от потребностей приложения.</p>
<p>Сообщение (Message) — это единица данных, которая передается от издателя к подписчику через очередь. Сообщения могут быть разных типов и форматов.</p>
<p>Обменник (Exchange) — это компонент, который принимает сообщения от издателей и направляет их в соответствующие очереди.</p>
<p>Биндинг (Binding) — это связь между обменником и очередью, которая определяет, какие сообщения в какую очередь будут направлены.</p>
<p>Продюсер (Producer) — это приложение, которое публикует сообщения в обменник.</p>
<p>Получатель (Consumer) — это приложение, которое получает сообщения из очереди и обрабатывает их.</p>
<p>Работа RabbitMQ происходит следующим образом:</p>
<p>продюсер отправляет сообщение в обменник;
обменник направляет сообщение в соответствующую очередь, в зависимости от типа обмена и биндинга;
получатель подписывается на очередь и начинает получать сообщения из нее;
получатель обрабатывает сообщения и выполняет необходимые действия;
получатель подтверждает получение сообщения, чтобы исключить его из очереди;
если сообщение не было подтверждено в течение определенного времени, оно будет повторно отправлено в очередь.</p>
<table>
<thead>
<tr>
<th>Категория</th>
<th>RabbitMQ</th>
<th>Apache Kafka</th>
</tr>
</thead>
<tbody>
<tr>
<td>Сложность</td>
<td>Удобный интерфейс, легкая установка, в том числе в Docker, легкая настройка</td>
<td>Сложность запуска и настройки, отсутствие веб-интерфейса</td>
</tr>
<tr>
<td>Специфика инструмента</td>
<td>Брокер сообщений, заточен под работу с отдельными сообщениями</td>
<td>Платформа для передачи и обработки событий, заточена под работу с потоками сообщений</td>
</tr>
<tr>
<td>Работа с очередями</td>
<td>Пуш-модель получения сообщений: RabbitMQ сам отправляет информацию клиенту без запроса со стороны последнего</td>
<td>Пулл-модель получения сообщений: клиент сам запрашивает у Apache Kafka новые данные, инициируя соединение и получая только те сообщения, которые были запрошены</td>
</tr>
<tr>
<td>Гарантия доставки сообщения</td>
<td>RabbitMQ ждет от получателя подтверждение, что сообщение доставлено, или сигнал о неудачной доставке. Во втором случае сообщение остается в очереди до тех пор, пока не будет доставлено</td>
<td>Kafka не отслеживает, получил ли подписчик сообщение, платформа просто хранит его в течение установленного промежутка времени. При этом она гарантирует, что сообщения находятся в той же последовательности, в которой поступили</td>
</tr>
<tr>
<td>Хранение данных</td>
<td>Есть хранение данных, можно посмотреть историю сообщений</td>
<td>Нет хранения данных, сообщения удаляются по истечении определенного, заранее заданного, времени</td>
</tr>
<tr>
<td>Протокол</td>
<td>RabbitMQ поддерживает несколько стандартизированных протоколов: AMQP, MQTT, STOMP и др. Это позволяет заменить его на любой брокер на основе AMQP</td>
<td>Kafka использует пользовательский протокол поверх TCP/IP для связи между приложениями и кластером. Вы не сможете так просто удалить или заменить эту платформу, потому что она единственная реализует данный протокол</td>
</tr>
</tbody>
</table>
<p>Применение</p>
<p>RabbitMQ сосредотачивается на надежной и гибкой передаче сообщений между различными частями системы. Это делает его хорошим выбором для архитектур, где требуется точная доставка сообщений, обработка структурированных данных и контроль над обменом сообщениями между компонентами.
RabbitMQ подходит для нетривиальных бизнес-процессов и позволяет настраивать сложные системы с тысячами источников и приемников сообщений
Где может применяться: системы бронирования билетов, логистические программы</p>
<p>Основное назначение Apache Kafka — централизованный сбор, обработка, безопасное хранение и передача сообщений от разных сервисов. Обычно систему выбирают, когда нужно работать с большим количеством неструктурированных данных.
Где может применяться: системы аналитики, финансовые системы, социальные сети, онлайн-игры</p>
<p><a href="https://www.youtube.com/watch?v=eHxOX3YYxGc&amp;t=136s">https://www.youtube.com/watch?v=eHxOX3YYxGc&amp;t=136s</a></p>

            </div>
        </article>

        <hr />

        <div class="post-info">
            
            
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>

        <span class="tag"><a href="http://localhost:1313/categories/hugo/">Hugo</a></span>
        
    </p>

  		</div>
    </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2024</span>
            <span><a href="http://localhost:1313/"></a></span>
            <span></span>
            <span><a href="http://localhost:1313/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
            
        </div>
    </div>
    
    
</footer>

            
        </div>

        



<script type="text/javascript" src="http://localhost:1313/bundle.min.85fad2de4f13fec3bcb3b3cb10430cdb44a7b4a9749b32938241a5c6e77718df7624f1002b880521fdc26e24ec1077fda214bf1cb36ee3045510760d09638cae.js" integrity="sha512-hfrS3k8T/sO8s7PLEEMM20SntKl0mzKTgkGlxud3GN92JPEAK4gFIf3CbiTsEHf9ohS/HLNu4wRVEHYNCWOMrg=="></script>




    </body>
</html>
