<!DOCTYPE html>
<html lang="en">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="map[name:Hugo Authors]">
<meta name="description" content="Вон Вернон в своей книге «Реализация методов предметно-ориентированного проектирования»
Единый язык (Ubiquitous Language) Для того чтобы уравнять разработчиков и экспертов предметной области, чтобы было гораздо проще обмениваться полезными знаниями о предметной области, подход DDD предлагает применять общий набор терминов, понятий и фраз, который будет использоваться в общении между членами команды, и который позже отразится в исходном коде результирующей программы.
Это язык, созданный целостной командой – экспертами в предметной области, разработчиками, бизнес-аналитиками и всеми, кто вовлечен в создание системы." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="http://localhost:1313/themes/analitic/" />


    <title>
        
            DDD :: Luluya 
        
    </title>





<link rel="stylesheet" href="http://localhost:1313/main.949191c1dcc9c4a887997048b240354e47152016d821198f89448496ba42e491.css" integrity="sha256-lJGRwdzJxKiHmXBIskA1TkcVIBbYIRmPiUSElrpC5JE=">



    <link rel="apple-touch-icon" sizes="180x180" href="http://localhost:1313/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
    <link rel="manifest" href="http://localhost:1313/site.webmanifest">
    <link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="http://localhost:1313/favicon.ico">
    <meta name="msapplication-TileColor" content="">



  <meta itemprop="name" content="DDD">
  <meta itemprop="description" content="Вон Вернон в своей книге «Реализация методов предметно-ориентированного проектирования»
Единый язык (Ubiquitous Language) Для того чтобы уравнять разработчиков и экспертов предметной области, чтобы было гораздо проще обмениваться полезными знаниями о предметной области, подход DDD предлагает применять общий набор терминов, понятий и фраз, который будет использоваться в общении между членами команды, и который позже отразится в исходном коде результирующей программы.
Это язык, созданный целостной командой – экспертами в предметной области, разработчиками, бизнес-аналитиками и всеми, кто вовлечен в создание системы.">
  <meta itemprop="datePublished" content="2014-03-10T00:00:00+00:00">
  <meta itemprop="dateModified" content="2014-03-10T00:00:00+00:00">
  <meta itemprop="wordCount" content="4129">
  <meta itemprop="image" content="http://localhost:1313/">
  <meta itemprop="keywords" content="Hugo 101">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://localhost:1313/"><meta name="twitter:title" content="DDD">
<meta name="twitter:description" content="Вон Вернон в своей книге «Реализация методов предметно-ориентированного проектирования»
Единый язык (Ubiquitous Language) Для того чтобы уравнять разработчиков и экспертов предметной области, чтобы было гораздо проще обмениваться полезными знаниями о предметной области, подход DDD предлагает применять общий набор терминов, понятий и фраз, который будет использоваться в общении между членами команды, и который позже отразится в исходном коде результирующей программы.
Это язык, созданный целостной командой – экспертами в предметной области, разработчиками, бизнес-аналитиками и всеми, кто вовлечен в создание системы.">



    <meta property="og:url" content="http://localhost:1313/themes/analitic/">
  <meta property="og:site_name" content="Luluya">
  <meta property="og:title" content="DDD">
  <meta property="og:description" content="Вон Вернон в своей книге «Реализация методов предметно-ориентированного проектирования»
Единый язык (Ubiquitous Language) Для того чтобы уравнять разработчиков и экспертов предметной области, чтобы было гораздо проще обмениваться полезными знаниями о предметной области, подход DDD предлагает применять общий набор терминов, понятий и фраз, который будет использоваться в общении между членами команды, и который позже отразится в исходном коде результирующей программы.
Это язык, созданный целостной командой – экспертами в предметной области, разработчиками, бизнес-аналитиками и всеми, кто вовлечен в создание системы.">
  <meta property="og:locale" content="ru-ru">
  <meta property="og:type" content="article">
    <meta property="article:section" content="themes">
    <meta property="article:published_time" content="2014-03-10T00:00:00+00:00">
    <meta property="article:modified_time" content="2014-03-10T00:00:00+00:00">
    <meta property="og:image" content="http://localhost:1313/">
      <meta property="og:see_also" content="http://localhost:1313/themes/swagger-openapi/">
      <meta property="og:see_also" content="http://localhost:1313/themes/resr_soap/">
      <meta property="og:see_also" content="http://localhost:1313/themes/goisforlovers/">






    <meta property="article:published_time" content="2014-03-10 00:00:00 &#43;0000 UTC" />











    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="http://localhost:1313/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">&gt;</span>
            <span class="logo__text ">
                $ cd /home/</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="http://localhost:1313/about/">About</a></li><li><a href="http://localhost:1313/themes/">Themes</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="http://localhost:1313/themes/analitic/">DDD</a></h2>

            
            
            

            <div class="post-content">
                <p>Вон Вернон в своей книге «Реализация методов предметно-ориентированного проектирования»</p>
<h3 id="единый-язык-ubiquitous-language">Единый язык (Ubiquitous Language)</h3>
<p>Для того чтобы уравнять разработчиков и экспертов предметной области, чтобы было гораздо проще обмениваться полезными знаниями о предметной области, подход DDD предлагает применять общий набор терминов, понятий и фраз, который будет использоваться в общении между членами команды, и который позже отразится в исходном коде результирующей программы.</p>
<p>Это язык, созданный целостной командой – экспертами в предметной области, разработчиками, бизнес-аналитиками и всеми, кто вовлечен в создание системы. Роль в команде не столь существенна, поскольку каждый член команды использует для описания проекта единый язык.</p>
<p>Очень важно понимать, что в рамках предметной области смысл определенного термина или фразы может сильно отличаться. Существует некая граница, в пределах которой понятия единого языка имеют вполне конкретное контекстное значение.</p>
<p><strong>Приведу несколько примеров из книги</strong>:</p>
<p>В команде, обсуждая модель применения вакцины от гриппа в виде кода, произносят фразу наподобие: «Медсестры назначают вакцины от гриппа в стандартных дозах». Возможные варианты развития событий:</p>
<p><img src="https://habrastorage.org/r/w1560/files/436/fe6/42f/436fe642fa46483bbcf90f96cccbe833.jpg" alt=""></p>
<p>Очевидно, что первый вариант совсем не оптимален, второй – лучше, но не учитывает некоторые важные концепции. Окончательный вариант наиболее приемлем для поставленной задачи.</p>
<h3 id="ограниченный-контекст-bounded-context">Ограниченный контекст (Bounded context)</h3>
<p>Итак, ограниченный контекст – это явная граница, внутри которой существует модель предметной области, которая отображает единый язык в модель программного обеспечения.</p>
<p>Язык является единым только в рамках команды, работающей над проектом в едином ограниченном контексте.
Попытка применить единый язык в рамках всего предприятия или что хуже, среди нескольких предприятий, закончится провалом.</p>
<p>Для примера, следует рассмотреть контраст между терминами сводка (ассount) в контексте банковских услуг и в литературном контексте:</p>
<p><em>Контекст банковских услуг:</em></p>
<p>Сводка поддерживает запись о дебиторских и кредиторских транзакциях, отображающих текущее финансовое состояние клиента с точки зрения банка → Сводка о текущих счетах или сводка о сберегательных счетах</p>
<p><em>Литературный контекст:</em></p>
<p>Сводка – это совокупность литературных выражений об одном или нескольких событиях, произошедших за определенный период времени.</p>
<p>Различить типы сводок невозможно по именам. Но их можно различить исключительно по названиям их концептуальных контейнеров, т.е. соответствующих ограниченных контекстов.
<img src="https://habrastorage.org/r/w1560/files/936/89e/57d/93689e57dc314122bac0bd4c1a8cd3b4.jpg" alt=""></p>
<h3 id="предметная-область-предметная-подобласть-смысловое-ядро">Предметная область, предметная подобласть, смысловое ядро</h3>
<p>Предметная область (Domain) – это то, что делает организация, и среда, в которой она это делает. Разработчик программного обеспечения для организации обязательно работает в ее предметной области. Следует понимать, что при разработке модели предметной области необходимо сосредоточиться в определенной подобласти, так как практически невозможно создать единственную, всеобъемлющую модель бизнеса даже умеренно сложной организации. Очень важно разделять модели на логические разделенные предметные подобласти (Subdomain) всей предметной области, согласно их фактической функциональности. Подобласти позволяют быстрее определить разные части предметной области, необходимые для решения конкретной задачи.</p>
<p>Также необходимо уметь определять смысловое ядро (Core domain). Это очень важный аспект подхода DDD. <strong>Смысловое ядро</strong> – это подобласть, имеющая первостепенное значение для организации. Со стратегической точки зрения бизнес должен выделяться своим смысловым ядром.</p>
<p>Если моделируется определенный аспект бизнеса, который важен, но не является смысловым ядром, то он относится к служебной подобласти (Supporting subdomain). Бизнес создает служебную подобласть, потому что она имеет специализацию. Если она не имеет специального предназначения для бизнеса, а требуется для всего бизнеса в целом, то ее называют неспециализированной подобластью (Generic subdomain). Эти виды подобластей важны для успеха бизнеса, но не имеют первоочередного значения. Именно смысловое ядро должно быть реализовано идеально, поскольку оно обеспечивает преимущество для бизнеса.</p>
<p>Это и есть основа для стратегического проектирования при подходе DDD.</p>
<h3 id="пространство-задач-и-пространство-решений">Пространство задач и пространство решений</h3>
<p>Предметные области состоят из пространства задач и пространства решений. Пространство задач позволяет думать о стратегической бизнес проблеме, которая должна быть решена, а пространство решений, сосредоточится на том, как реализуется программное обеспечение, чтобы решить бизнес проблему.</p>
<p>Пространство задач – части предметной области, которые необходимы, чтобы создать смысловое ядро. Это комбинация смыслового ядра и подобластей, которое это ядро должно использовать.
Пространство решений – один или несколько ограниченных контекстов, набор конкретных моделей программного обеспечения. Разработанный ограниченный контекст – это конкретное решение, представление реализации.</p>
<p>Идеальным вариантом является обеспечение однозначного соответствия между подобластями и ограниченными контекстами. Таким образом, объединяются пространство задач и пространство решений, выделяются модели предметной области в четко определенные области в зависимости от поставленных целей. Если система не разрабатывается с нуля, она часто представляет собой большой комок грязи, где подобласти пересекаются с ограниченными контекстами.</p>
<p>В качестве примера в книге Вона Вернона приводится смысловое ядро для небольшой компании, которая занимается розничной продажей в Интернете. Любой интернет-магазин может улучшить свое положение, если будет использовать механизм прогноза, который будет анализировать историю продаж и данные о запасах для получения прогноза спроса и конкретных объемов оптимальных запасов. (Компания не должна тратить деньги на товары, которые не имеют спроса и занимают дополнительную складскую площадь.) Именно это смысловое ядро делает организацию гораздо более конкурентоспособной, способной быстро идентифицировать выгодные сделки и гарантировать необходимый уровень запасов. Пространство задач состоит из смыслового ядро и подобластей, связанных с закупкой и запасами, и которые отображены на этом рисунке:</p>
<p><img src="https://habrastorage.org/r/w1560/files/832/98f/a23/83298fa239a64ad08ae497ddd4595dc2.jpg" alt=""></p>
<p>Это только часть предметной области, а не вся предметная область, в которой работает организация. Пространство задач (смысловое ядро и подобласти) необходимо проанализировать. Модель закупок, изображенная на рисунке, представляет собой решение для смыслового ядро. Модель предметной области будет реализована в явном ограниченном контексте: контексте оптимальных закупок. Этот ограниченный контекст однозначно соответствует одной подобласти под названием смысловое ядро оптимальных закупок. Еще один ограниченный контекст под названием контекст закупок будет разработан для уточнения технических аспектов процесса закупок и будет играть вспомогательную роль по отношению к контексту оптимальных закупок. Они обеспечивают взаимодействие с открытым интерфейсом системы ERP. Контекст закупок и модуль закупок ERP объединяются в служебную подобласть закупок. Сам модуль ERP является неспециализированной подобластью, поскольку ее можно заменить на любую другую коммерческую систему закупок. Однако, она становится служебной подобластью, если ее рассмотреть в сочетании с контекстом закупок в подобласти закупок. В соответствие с рисунком, контекст оптимальных закупок должен также взаимодействовать с контекстом товарных запасов, который управляет единицами хранения. Он использует модуль товарных запасов ERP, который находится в пределах служебной подобласти товарных запасов. ERP-приложение состоит из различных модулей, которые мы рассматриваем как логические подобласти, – это подобласти товарных запасов и закупок. Эти модули и контексты запасов и закупок объединяются в служебные подобласти.</p>
<p>Итак, для оценки пространства задач в первую очередь необходимо:</p>
<p>Определить, как выглядит стратегическое смысловое ядро
Какие концепции должны рассматриваться как часть смыслового ядра
Перечислить служебные и неспециализированные подобласти.</p>
<p>Оценка пространства задач влияет на оценку пространства решений. Здесь необходимо думать уже о существующих и новых системах и технологиях. Надо думать в терминах четко отделимых физических органических контекстов, для которых ищется единый язык. Следует:</p>
<p>Проанализировать существующее программное обеспечение на предмет повторного использования
Определить средства, которые следует приобрести или создать
Изучить интеграцию этих средств
Определить, как перекрываются концепции и данные разных ограниченных контекстов
Определить, какой ограниченный контекст содержит концепции, относящиеся к смысловому ядру, и какие тактические шаблоны используются для его моделирования.</p>
<p>ограниченный контекст состоит не только из модели предметной области. Хотя модель это ее основной компонент. Если создается схема баз данных из модели, она также участвует в этом ограниченном контексте. В то же время, если схема существовала ранее и в ней нарушен проект, эта схема не относится к ограниченному контексту.</p>
<p>пользовательский интерфейс, который выражает модель, также относится к ограниченному контексту. Также могут быть реализованы сервис-ориентированные конечные точки, которые также находятся внутри границы. И компоненты пользовательского интерфейса, и сервис-ориентированные конечные точки делегируются прикладным службам, которые действуют как фасад по отношению к модели. Эти службы также находятся внутри границы ограниченного контекста.</p>
<p>Размеры ограниченных контекстов могут быть самыми разными. Главное, – чтобы модель демонстрировала богатство единого языка в контексте. В ней должно существовать столько концепций предметной области, сколько необходимо для моделирования в пределах ограниченного контекста – ни больше, ни меньше. Для того чтобы не пропустить ничего существенного, необходимо найти четкий и хороший критерий. Для этого можно использовать карту контекстов. Таким образом мы подходим к третьему важному шаблону стратегического проектирования.</p>
<h3 id="карта-контекстов">Карта контекстов</h3>
<p>Следуя подходу DDD, определенная команда должна создать собственную карту, которая отражает пространство решений, в которой находится эта команда. Эта карта состоит из ограниченных контекстов, а также интеграционных связей между ними. Пример:
<img src="https://habrastorage.org/r/w1560/files/39c/e02/37b/39ce0237b70e4ae2b5a4afe8cfb208da.jpg" alt=""></p>
<p>Эта карта контекстов (Context map) отображает текущее положение дел, а не то, что будет в будущем.</p>
<p>Естественный ход событий – совпадение границ контекстов с организационным делением команды. Люди, работающие вместе, разделяют один общий контекст модели.</p>
<p>После создания предварительной карты контекстов, ее можно детализировать путем определения отношений между контекстами.</p>
<p>Существуют такие отношения между ограниченными контекстами и отдельными командами проекта:</p>
<p>партнерство (Partnership). Когда команды в двух контекстах достигают успеха и терпят неудачу вместе, возникает отношение сотрудничества. Они должны сотрудничать в процессе эволюции своих интерфейсов, чтобы учитывать потребности обеих систем.
общее ядро (Shared kernel). Общая часть модели и кода образует тесную взаимосвязь. Обозначается четкая граница подмножества модели предметной области, которую команды согласны считать общей. Ядро должно быть маленьким. Оно не может изменяться без консультации с другой командой. Необходимо согласовывать единый язык команд.
разработка заказчки-поставщик (Customer-supplier development). Когда две команды находятся в отношении «нижестоящий и вышестоящий», и команды вышестоящие учитывают приоритеты нижестоящих команд.
конформист (Conformist). Когда две команды находятся в отношении «вышестоящий и нижестоящий», причем вышестоящая команда не имеет причин учитывать потребности нижестоящей команды. Нижестоящая команда учитывает сложность трансляции между ограниченными контекстами, беспрекословно подчиняясь модели вышестоящей команды.
предохранительный уровень (Anticorruption layer). Если управление и коммуникация не соответствуют общему ядру, партнеру, или отношению «Заказчик-поставщик», то трансляция является сложной. Нижестоящий клиент должен создать изолирующий слой, чтобы обеспечить свою систему вышестоящей системы в терминах своей модели предметной области. Этот уровень общается с другой системой с помощью существующего интерфейса, не требуя или почти не требуя модификаций другой системы.
служба с открытым протоколом (Open host service). Определяется протокол, который предоставляет доступ к системе как к набору служб. Для учета новых требований интеграции этот протокол расширяется и уточняется.
общедоступный язык (Published language). Трансляция между моделями двух ограниченных контекстов требует общего языка. В качестве среды для коммуникации используется хорошо документированный общий язык, который может выразить необходимую информацию о предметной области, выполняя при необходимости перевод информации с другого языка на этот.
отдельное существование (Separate ways). Если между двумя наборами функциональных возможностей нет важного отношения, их можно полностью отсоединить друг от друга. Интеграция всегда дорого стоит, а выгоды бывают незначительны.
большой комок грязи (Big ball of mud). Существуют части системы, в которых модели перемешаны, а границы стерты. Необходимо нарисовать границу такой смеси и назвать ее большой комок грязи.</p>
<p>Пример разработки карты контекстов можно взять из статьи Альберто Брандолини Strategic Domain Driven Design with Context Mapping.</p>
<p>Сначала рисуется простая карта контекстов с границами и связью между ограниченными контекстами:</p>
<p><img src="https://habrastorage.org/r/w1560/files/c67/1e7/d78/c671e7d788284bdd86b412661f5dfd18.jpg" alt=""></p>
<p>В этих двух контекстах есть различия в концепциях с одинаковым названием. Например, Account в Web User Profiling – это учетная запись пользователя (логин и пароль). В то же время, для PFM Application (персональное управление финансами) – это сводка, описывающая текущее состояние клиента с точки зрения банка. Иногда, как было указано выше, одна и та же концепция может использоваться в абсолютно разных контекстах, тем самым для них необходимо определить разные модели.</p>
<p><img src="https://habrastorage.org/r/w1560/files/d34/56b/62b/d3456b62ba574c8399e1a4521602bc39.jpg" alt=""></p>
<p>Например, PayeeAccount – это тот же BankingAccount, но с другим поведением (нельзя получить баланс). Таким образом будет создан отдельный контекст учета расходов (expense tracking). Также отдельно, в приведенном примере, создается контекст онлайн сервисов банка (on-line banking services) (такие сервисы, например, как распечатка выписок банка).</p>
<p><img src="https://habrastorage.org/r/w1560/files/e2b/965/f92/e2b965f92dd04869b52d636359c0e573.jpg" alt=""></p>
<p>После первого шага создания карты, можно детализировать все отношения. У каждого отношения есть направление. Вышестоящие (upstream) влияют на нижестоящие (downstream), но не факт, что обратное верно.</p>
<p>Детализированная карта выглядит вот так:
<img src="https://habrastorage.org/r/w1560/files/74b/6b7/79c/74b6b779c946435a82b90ed770657d1f.jpg" alt=""></p>
<p>Контекст банковских онлайн сервисов предоставляет API (это может быть служба с открытым протоколом и общедоступный язык). При изменении этого API, контекст персонального управления финансами должен тут же измениться, чтобы работать с новым API. При этом необходимо использовать предохранительный уровень, чтобы не дать понятиям из контекста онлайн сервисов просочиться в контекст персонального управления финансами (делается преобразование моделей предметной области).</p>
<p>Так как контекст профайлов веб-пользователей используется как готовый внешний модуль и он поставляется «как есть», здесь устанавливается отношение конформист (нижестоящий подчиняется вышестоящему).</p>
<p>В случае с контекстом учетов расходов, то здесь лучше всего подходит отношение партнерства, так как существуют общие цели и концепции, но нет направления отношения.</p>
<p>Это простой пример карты контекстов, на деле они бывают намного сложней.</p>
<p><strong>Вывод</strong></p>
<p>В этой статье были рассмотрены основные понятия предметно-ориентированного проектирования с помощью стратегических шаблонов: единый язык, ограниченный контекст, предметная область, предметная подобласть, смысловое ядро, карта контекстов. Этих инструментов достаточно, чтобы увидеть стратегическое развитие проекта и понять, как дальше развивать бизнес, чтобы добиться наибольшего успеха.</p>
<p>Конечно, после прочтения данной статьи многое еще захочется уточнить. Для этого рекомендую обратиться к вышеупомянутой книге Вона Вернона. Также для этого существуют специальные сообщества, куда можно обратиться за советом. Тактические же приемы моделирования, а также шаблоны, такие как сущности, объекты значения, агрегаты и другие будут рассмотрены в следующей статье.</p>
<p>ЕСЛИ ПРЕДЫДУЩАЯ СТАТЬЯ НОРМ <a href="https://habr.com/ru/articles/316890/">https://habr.com/ru/articles/316890/</a></p>
<p>Пример
Представьте, что вы строите дом. В этом доме есть разные комнаты: кухня, гостиная, ванная и спальня. Каждая комната предназначена для своих задач и имеет свой набор мебели и устройств, которые помогают в этих задачах. Так вот, в мире программирования, &ldquo;домен&rdquo; – это как раз такая &ldquo;комната&rdquo;, только для данных и операций в вашем приложении.</p>
<p>🏠 Пример из реальной жизни:</p>
<p>Допустим, вы создаете веб-сайт для онлайн-магазина. Этот магазин – ваш &ldquo;дом&rdquo;. В нем есть разные &ldquo;комнаты&rdquo; (домены): каталог товаров, управление заказами, обработка платежей, учет пользователей и так далее.</p>
<p>Каталог товаров содержит все данные о товарах (название, цена, описание) и операции с ними (поиск, фильтрация, сортировка).
Управление заказами занимается хранением информации о заказах пользователей и их обработкой (создание заказа, изменение статуса, отслеживание).
Обработка платежей отвечает за проведение платежей, хранение информации о транзакциях и их статусах.
Учет пользователей включает в себя данные о пользователях (имя, контактные данные, история заказов) и операции над ними (регистрация, аутентификация, изменение профиля).
Каждый из этих &ldquo;доменов&rdquo; решает свою уникальную задачу и содержит связанные с ней данные и операции. Разделяя приложение на такие домены, вы упрощаете его структуру, делаете код более понятным и легко поддерживаемым. Это как если бы в каждой комнате вашего дома был порядок и каждая вещь лежала на своем месте – гораздо проще жить и управлять своим домом, верно?</p>
<p>Таким образом, &ldquo;домен&rdquo; в программировании помогает организовать и структурировать код таким образом, чтобы каждая часть приложения занималась своей конкретной задачей, облегчая тем самым разработку, тестирование и поддержку программного продукта.</p>
<h3 id="введение-в-мир-ddd">Введение в мир DDD</h3>
<p><strong>Domain-Driven Design (DDD)</strong> – Domain-Driven Design (DDD) - это методология разработки программного обеспечения, которая фокусируется на понимании и моделировании предметной области, в которой будет применяться система. Это подход, который ставит в центр внимания сам домен – предметную область, с которой работает ваше ПО, и стремится максимально точно отразить ее структуру и логику в архитектуре программного продукта.</p>
<p><em>Основные элементы DDD:</em></p>
<ol>
<li>Ограниченный контекст (Bounded Context): это четко определенная граница, внутри которой действует уникальная модель предметной области. Это помогает избежать путаницы и противоречий при использовании одних и тех же терминов в разных контекстах.</li>
<li>Убиквитарный язык (Ubiquitous Language): это общий язык, который используют и разработчики, и эксперты предметной области. Он обеспечивает понимание и эффективное общение между всеми участниками проекта.</li>
<li>Основной домен (Core Domain): это сердце вашего ПО, ключевая функциональность, которая делает ваш продукт ценным и уникальным.</li>
</ol>
<p><em>Преимущества DDD</em>:</p>
<ol>
<li>Улучшение коммуникации между разработчиками и экспертами предметной области, благодаря использованию убиквитарного языка.</li>
<li>Повышение гибкости и масштабируемости системы за счет четкого разделения на ограниченные контексты.</li>
<li>Упрощение поддержки и развития ПО, поскольку DDD помогает избежать &ldquo;больших комков грязи&rdquo; в коде.</li>
</ol>
<p><em>Домены в программировании на примере онлайн-магазина</em></p>
<ul>
<li>Каталог товаров – это домен, где сосредоточена вся информация о товарах. Здесь происходит управление товарами: добавление новых, изменение существующих, удаление устаревших.</li>
<li>Управление заказами – домен, отвечающий за обработку заказов клиентов, от момента их создания до доставки.</li>
<li>Обработка платежей – здесь происходят все операции, связанные с оплатой заказов: авторизация платежей, обработка возвратов, управление бонусами и скидками.</li>
</ul>
<p>Основные принципы DDD</p>
<ol>
<li>
<p>Понимание предметной области: Разработчики должны глубоко понимать предметную область, в которой будет работать система. Это достигается через общение с экспертами и изучение документации.</p>
</li>
<li>
<p>Моделирование: Моделирование - это процесс создания абстрактных представлений о предметной области. Модели должны быть простыми, понятными и соответствовать реальности.</p>
</li>
<li>
<p>Объектно-ориентированное программирование: DDD использует объектно-ориентированное программирование для создания моделей предметной области.
Контекст: Контекст - это конкретная ситуация, в которой система будет использоваться. Разработчики должны учитывать контекст при разработке системы.
Основные понятия DDD
Сущность: Сущность - это объект, который имеет определенные свойства и поведение. Сущности могут быть как простыми, так и сложными.
Вариант: Вариант - это конкретное значение, которое может принимать сущность.
Репозиторий: Репозиторий - это интерфейс, который обеспечивает доступ к сущностям.
Убиквитарный язык: Убиквитарный язык - это язык, который используется всеми участниками проекта, включая разработчиков, тестировщиков и экспертов предметной области.
Архитектура DDD
Микросервисная архитектура: DDD - это микросервисная архитектура, в которой каждый микросервис отвечает за конкретную сущность или группу сущностей.
Бизнес-логика: Бизнес-логика - это логика, которая описывает поведение сущностей в контексте бизнеса.
Практика DDD
Исследование бизнеса: Разработчики должны исследовать бизнес, чтобы понять, какие сущности и отношения между ними важны для системы.
Определение контекстов и ограничений: Разработчики должны определить контексты и ограничения, в которых будет работать система.
Недостатки DDD
Долгосрочная инвестиция: DDD - это долгосрочная инвестиция, требующая активных усилий. Эксперты предметной области должны тесно сотрудничать с разработчиками, и разработчики должны думать с точки зрения бизнеса.
Сложность: DDD может быть сложной для новичков, так как требует глубокого понимания предметной области и объектно-ориентированного программирования.</p>
</li>
<li>
<p>Что такое DDD, можно объяснить даже ребёнку (или маркетологу)</p>
</li>
</ol>
<p>DDD — это подход, который нацелен на изучение предметной области предприятия в целом или каких-то отдельных бизнес-процессов. Это отличный подход для проектов, в которых сложность (запутанность) бизнес-логики достаточно велика. Его применение призвано снизить эту сложность, насколько возможно.</p>
<p>Вне подхода DDD, когда программист пишет код, больше внимания он уделяет технологиям и инфраструктуре, например, как отправить сообщение, как его получить, закодировать, сохранить в базу данных, в какую именно базу данных.</p>
<p>Подход DDD говорит о том, что всё это, конечно, важно, но вторично. Бизнес главнее и должен стоять на первом месте. И чтобы вся эта штука заработала вместе, DDD учит нас (разработчиков) разговаривать с бизнесом на одном языке. Не на языке программирования, а на языке бизнеса. Это называется в DDD Единый язык (Ubiquitous language).</p>
<ol start="2">
<li>Фишка DDD — Ограниченный Контекст (Bounded Context)</li>
</ol>
<p>Ограниченный Контекст (Bounded Context) — ключевой инструмент DDD, это явная граница, внутри которой существует модель предметной области. Она отображает единый язык в модель программного обеспечения. Именно на основании контекстов можно разделить код на модули/пакеты/компоненты таким образом, чтобы изменения в каждом из них оказывали минимальное (или нулевое) влияние на других.</p>
<p>Для разработчиков такой подход позволяет вносить изменения в код не опасаясь, что где-то в другом месте что-то сломается (например, менять что-то в кассе и не переживать, что из-за этого что-то отвалится у курьеров).</p>
<p>Для тимлидов такой подход позволяет в значительной степени распараллелить работу команд(ы), что может значительно ускорить работу по проекту.</p>
<p>Кроме ограниченного контекста есть ещё всякие штуки типа карт контекстов, единого языка, отношений между контекстами, карты трансляций… уффф! Об этом за 10 минут не расскажешь, но можно почитать «зелёную» книжку.</p>
<ol start="3">
<li>Главные книжки по DDD: красная, синяя и зелёная</li>
</ol>
<p>DDD — довольно старый подход. Его использование выглядит разумным и вполне оправданным, но почему-то он всё ещё мало распространён, про него мало говорят на конференциях. Да что не так с этим DDD?</p>
<p>Есть предположение, что основная проблема в дефиците учебных материалов. Вся теория описана в нескольких книжках: красной, синей и зелёной. Говорят, что есть «ещё одна красная книжка», но её пока мало кто видел :)</p>
<p>Красная и синяя книги настолько тяжелы в восприятии, что где-то на середине хочется вышвырнуть книгу в окно с криками: «Хватит с меня этого дерьма, нафиг этот непонятный DDD! Пойду, сделаю как умею». И это только про теорию, с материалами по практике ещё сложнее.</p>
<p>Поэтому, если вы всё-таки решите начать изучать литературу по DDD, то лучше всего начать с «зелёной» книги. В ней Вон Вернон пробегается по верхушкам подхода и на простых примерах показывает его преимущества. Говорят, что перевод получился сомнительным, так что лучше читать в оригинале.</p>
<ol start="4">
<li>Как понять, что пора применять DDD</li>
</ol>
<p>Посчитайте количество сценариев использования вашей системы. Если их в районе 10-15, значит бизнес-логика не такая сложная, и вы можете не париться, никакого DDD не применять.</p>
<p>Если у вас 30-50 и более UX-кейсов, и они очень сильно пересекаются, имеет смысл задуматься над применением DDD хотя бы в какой-то части системы.</p>
<ol start="5">
<li>Как внедрить DDD в компании снизу вверх</li>
</ol>
<p>Представим, что вы разработчик, которому нравится DDD, и вы думаете, что в вашей компании этот подход можно применить, чтобы причинить людям счастье.</p>
<p>Начинать партизанское внедрение DDD одному тяжело. Во-первых, знаний может оказаться недостаточно, чтобы запустить процесс. Во-вторых, чуваки из вашей команды могут подумать, что вы занимаетесь глупостями и всё поломают, напихав палок в колёса.</p>
<p>Лучше начинать внедрение с создания инициативной группы: вместе попробовать подход, понять нюансы, разобраться на практике. Уже потом можно пойти к архитектору или техдиру, чтобы объяснить ему ценность. Но помните, что DDD нужен не везде. DDD решает конкретные задачи, поэтому очень важно не перестараться.</p>
<p>У подхода есть побочное действие: если люди начнут хотя бы стремиться к DDD, то они уже начнут действовать в парадигме «Разделяйте, делите, понижайте связность и следите за бизнес-логикой». А от этого начнутся положительные изменения: где-то код будет лучше писаться, где-то скорость увеличится. Не обязательно эти знания должны превратиться в коде именно в контексты и другие DDD-шные артефакты. Код может остаться кодом, но он станет лучше, а скорость и качество повысятся.</p>
<ol start="6">
<li>Как внедрить DDD в компании сверху вниз</li>
</ol>
<p>Убедиться, что этот подход поможет в конкретном случае.
Найти человека в команде, у которого есть архитектурные навыки (он будет помогать определить, где в системе швы, по которым надо резать).
Пригласить практиков DDD, чтобы они вас научили.
Пошагово отрефакторить необходимые части системы. Помните! Далеко не все части нуждаются в подобном рефакторинге. Выделение моделей и переработка кода необходима только там, где бизнес получит от этого максимальную выгоду.</p>
<ol start="7">
<li>Как научить человека DDD без его ведома</li>
</ol>
<p>Конечно же, через практику. Просто не говорите человеку заранее, что учите его DDD, не пугайте раньше времени.</p>
<p>Пусть человек приходит и получает задачки. Не говорите ему, что это DDD, пусть просто делает. Он сделает, исходя из того, как он понимает солиды и всё такое. Потом, когда он будет сдавать работу, ему нужно сказать: «Дорогой чувак, оно вроде работает, но его нужно переделать», — и объясняете ему почему.</p>
<p>Не заставляйте читать или учить всё целенаправленно. Будьте интерактивными в этом плане. Так человек за 3-5 месяцев начнёт понимать базовые принципы DDD: с точки зрения реализации, с точки зрения теории. Паттерны он начнёт понимать ещё раньше по артефактам подхода – картам контекстов. Сначала людям будет ничего непонятно, но постепенно они врубятся, а некоторые даже книжки начнут читать.</p>
<ol start="8">
<li>Умею DDD — неважная строчка для резюме в России</li>
</ol>
<p>Если вы находитесь в России и знаете DDD — это круто. Но далеко не факт, что сами знания DDD пригодятся в работе. Скорее, это будет служить индикатором для работодателя о вашем высоком уровне развития как разработчика. Ведь навыки, которые вы приобретаете, изучая подход DDD, развивают вас как программиста и как проектировщика (архитектора).</p>
<p>А вот если вы задумываетесь о переезде за границу, то такая строчка в резюме может оказать положительное влияние. За границей DDD-комьюнити намного больше, и сам подход намного популярнее, чем у нас. Особенно в Европе.</p>
<p>Предметная область—
JS: Предметно-ориентированное проектирование
Предметно-ориентированное проектирование (Domain-driven design) - это набор принципов и схем, направленных на создание оптимальных систем объектов. Сводится к созданию программных абстракций, которые называются моделями предметных областей. В эти модели входит бизнес-логика, устанавливающая связь между реальными условиями области применения продукта и кодом.</p>
<p>Представьте себе, что перед вами поставили задачу разработать биллинг (система тарификации, выставление счетов, обработка платежей) для интернет-провайдера. С чего вы начнёте проектирование такой системы? А начать надо с анализа предметной области. Познакомиться с основными сущностями системы и их взаимоотношениями, другими словами, вам будет необходимо разобраться в онтологии предметной области.</p>
<p><img src="https://cdn2.hexlet.io/derivations/image/original/eyJpZCI6IjBkMTZiOWMwNDViNWQ4NmYxMWIxMzM5YTg0MDNhNjIyLmpwZyIsInN0b3JhZ2UiOiJjYWNoZSJ9?signature=7ed70e2e5b41047e6d9bf139164a1af001dfbb4865dc472c770747cbe5c7fc4a" alt=""></p>
<p>И вот тут на сцену выходит DDD. Центральная идея этого подхода заключается в том, что разработчики постоянно активно сотрудничают с экспертами предметной области (со стороны заказчика) и вместе с ними формируют так называемый единый язык. Этот язык будет использоваться для общения между всеми членами команды, а позже отразится в исходном коде разрабатываемой программы.</p>
<p>Ubiquitous Language — это не бизнес-жаргон, навязанный разработчикам, а настоящий язык, созданный целостной командой – экспертами в предметной области, разработчиками, бизнес-аналитиками и всеми, кто вовлечён в создание системы. Роль в команде не столь существенна, поскольку каждый член команды использует для описания проекта единый язык. Процесс создания единого языка более творческий, чем формальный, так как он, как и любой другой естественный язык, постоянно развивается, а те артефакты, которые вначале способствовали разработке полезного единого языка, со временем устаревают. В итоге остаются только самые устойчивые и проверенные элементы.</p>
<p>Наиболее важное для разработчика – это умение слушать экспертов, получать максимальное количество полезных знаний о предметной области. В то же время эксперты также должны прислушиваться к разработчикам и их пожеланиям. Команда учится и растёт вместе, если она действует сплочённо, получая более глубокое понимание бизнеса.</p>
<p>Bounded context
Это второе по значимости свойство DDD после единого языка. Оба эти понятия взаимосвязаны и не могут существовать друг без друга.</p>
<p>Итак, ограниченный контекст – это явная граница, внутри которой существует модель предметной области, которая отображает единый язык в модель программного обеспечения.</p>
<p>В каждом ограниченном контексте существует только один единый язык.</p>
<p>Ограниченные контексты являются относительно небольшими.
Ограниченный контекст достаточно велик только для единого языка изолированной предметной области, но не больше.
Единый значит «вездесущий» или «повсеместный», т. е. язык, на котором говорят члены команды и на котором выражается отдельная модель предметной области, которую разрабатывает команда.
Язык является единым только в рамках команды, работающей над проектом в едином ограниченном контексте.
Попытка применить единый язык в рамках всего предприятия или что хуже, среди нескольких предприятий, закончится провалом.</p>
<p><img src="https://cdn2.hexlet.io/derivations/image/original/eyJpZCI6IjVhY2FhYWZiOWY0NDk1Y2ZiOTY1M2I1ZTA0NWQ3MzBmLnBuZyIsInN0b3JhZ2UiOiJjYWNoZSJ9?signature=6637b57108d1a2f1bab3fa5db902b56503831fb55ce4ad657bff0d9c41db74be" alt=""></p>
<p>Например, система биллинга крупной телекоммуникационной компании может иметь следующие ключевые элементы (контексты):</p>
<p>Клиентское обслуживание
Система безопасности и защиты
Резервное копирование
Взаимодействие с платёжными системами
Ведение отчётности
Система уведомлений</p>

            </div>
        </article>

        <hr />

        <div class="post-info">
            
            
  		</div>
    </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2024</span>
            <span><a href="http://localhost:1313/"></a></span>
            <span></span>
            <span><a href="http://localhost:1313/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
            
        </div>
    </div>
    
    
</footer>

            
        </div>

        



<script type="text/javascript" src="http://localhost:1313/bundle.min.85fad2de4f13fec3bcb3b3cb10430cdb44a7b4a9749b32938241a5c6e77718df7624f1002b880521fdc26e24ec1077fda214bf1cb36ee3045510760d09638cae.js" integrity="sha512-hfrS3k8T/sO8s7PLEEMM20SntKl0mzKTgkGlxud3GN92JPEAK4gFIf3CbiTsEHf9ohS/HLNu4wRVEHYNCWOMrg=="></script>




    </body>
</html>
