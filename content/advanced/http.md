+++
categories = ["Go"]
date = "2024-07-22"
description = ""
featured = "pic02.jpg"
featuredalt = ""
featuredpath = "date"
linktitle = ""
slug = "Introduction aux modeles Hugo"
title = "HTTP"
type = ["posts","post"]
[ author ]
  name = "Michael Henderson"
+++

---
>[*Go Back*](http://localhost:1313/advanced/)
---

---
#### [1. HTTP](#http)

#### [2. Стартовая строка ](#стартовая-строка)

#### [3. Заголовки ](#заголовки)
---



## **HTTP** (HyperText Transfer Protocol)

— «протокол передачи гипертекста» представляет собой протокол прикладного уровня, используемый для доступа к ресурсам Всемирной Паутины. Под термином гипертекст следует понимать текст, в понятном для человека представлении, при этом содержащий ссылки на другие ресурсы.

В обмене информацией по HTTP-протоколу принимают участие **клиент и сервер**. Происходит это по следующей схеме: 

1. Клиент запрашивает у сервера некоторый ресурс.
2. Сервер обрабатывает запрос и возвращает клиенту ресурс, который был запрошен.

![](https://selectel.ru/blog/wp-content/uploads/2022/06/image-1.png)

Данные между клиентом и сервером в рамках работы протокола передаются с помощью HTTP-сообщений. Они бывают двух видов:

**Запросы (HTTP Requests)** — сообщения, которые отправляются клиентом на сервер, чтобы вызвать выполнение некоторых действий. 

**Ответы (HTTP Responses)** — сообщения, которые сервер отправляет в ответ на клиентский запрос.
Само по себе сообщение представляет собой информацию в текстовом виде, записанную в несколько строчек.

*В целом, как запросы HTTP, так и ответы имеют следующую структуру:*

1. **Стартовая строка (start line)** — используется для описания версии используемого протокола и другой информации — вроде запрашиваемого ресурса или кода ответа. 
   
2. **HTTP-заголовки (HTTP Headers)** — несколько строчек текста в определенном формате, которые либо уточняют запрос, либо описывают содержимое тела сообщения.
   
3. **Тело запроса/ответа (опционально)**

---
   
## Стартовая строка
Стартовая строка HTTP-запроса состоит из трех элементов:

**Метод HTTP-запроса** (method, реже используется термин verb). Обычно это короткое слово на английском, которое указывает, что конкретно нужно сделать с запрашиваемым ресурсом. Например, метод GET сообщает серверу, что пользователь хочет получить некоторые данные, а POST — что некоторые данные должны быть помещены на сервер.

**Путь к конкретному ресурсу на сервере** - представлена указателем ресурса URL.

**Версия используемого протокола** (либо HTTP/1.1, либо HTTP/2), которая определяет структуру следующих за стартовой строкой данных.


![](https://selectel.ru/blog/wp-content/uploads/2022/06/image.png)

---

#### Методы
Методы позволяют указать конкретное действие, которое мы хотим, чтобы сервер выполнил, получив наш запрос. 

![](https://selectel.ru/blog/wp-content/uploads/2022/06/image-2.png)

|**Метод**|**Описание**|
|----|-----|
|**GET**|Позволяет запросить некоторый конкретный ресурс. Дополнительные данные могут быть переданы через строку запроса (Query String) в составе URL (например ?param=value).О составляющих URL мы поговорим чуть позже.|
|**POST**|Позволяет отправить данные на сервер. Поддерживает отправку различных типов файлов, среди которых текст, PDF-документы и другие типы данных в двоичном виде. Обычно метод POST используется при отправке информации (например, заполненной формы логина) и загрузке данных на веб-сайт, таких как изображения и документы.|
|**HEAD**|Здесь придется забежать немного вперед и сказать, что обычно сервер в ответ на запрос возвращает заголовок и тело, в котором содержится запрашиваемый ресурс. Данный метод при использовании его в запросе позволит получить только заголовки, которые сервер бы вернул при получении GET-запроса к тому же ресурсу. Запрос с использованием данного метода обычно производится для того, чтобы узнать размер запрашиваемого ресурса перед его загрузкой.|
|**PUT**|Используется для создания (размещения) новых ресурсов на сервере. Если на сервере данный метод разрешен без надлежащего контроля, то это может привести к серьезным проблемам безопасности.|
|**DELETE**|Позволяет удалить существующие ресурсы на сервере. Если использование данного метода настроено некорректно, то это может привести к атаке типа «Отказ в обслуживании» (Denial of Service, DoS) из-за удаления критически важных файлов сервера.|
|**OPTIONS**|Позволяет запросить информацию о сервере, в том числе информацию о допускаемых к использованию на сервере HTTP-методов.|
|**PATCH**|Позволяет внести частичные изменения в указанный ресурс по указанному расположению.|

---

#### Заголовки

HTTP-заголовок представляет собой строку формата «Имя-Заголовок:Значение», с двоеточием(:) в качестве разделителя. 

Самые частые заголовки запроса

|**Заголовок**|**Описание**|
|---|----|
|**Host**|Используется для указания того, с какого конкретно хоста запрашивается ресурс. В качестве возможных значений могут использоваться как доменные имена, так и IP-адреса. На одном HTTP-сервере может быть размещено несколько различных веб-сайтов. Для обращения к какому-то конкретному требуется данный заголовок.
|**User-Agent**|Заголовок используется для описания клиента, который запрашивает ресурс. Он содержит достаточно много информации о пользовательском окружении. Например, может указать, какой браузер используется в качестве клиента, его версию, а также операционную систему, на которой этот клиент работает.|
|**Refer**|Используется для указания того, откуда поступил текущий запрос. Например, если вы решите перейти по какой-нибудь ссылке в этой статье, то вероятнее всего к запросу будет добавлен заголовок Refer: https://selectel.ru|
|**Accept**|Позволяет указать, какой тип медиафайлов принимает клиент. В данном заголовке могут быть указаны несколько типов, перечисленные через запятую (‘ , ‘). А для указания того, что клиент принимает любые типы, используется следующая последовательность — */*.|
|**Cookie**|Данный заголовок может содержать в себе одну или несколько пар «Куки-Значение» в формате cookie=value. Куки представляют собой небольшие фрагменты данных, которые хранятся как на стороне клиента, так и на сервере, и выступают в качестве идентификатора. Куки передаются вместе с запросом для поддержания доступа клиента к ресурсу. Помимо этого, куки могут использоваться и для других целей, таких как хранение пользовательских предпочтений на сайте и отслеживание клиентской сессии. Несколько кук в одном заголовке могут быть перечислены с помощью символа точка с запятой (‘ ; ‘), который  используется как разделитель.|
|**Authorization**|Используется в качестве еще одного метода идентификации клиента на сервере. После успешной идентификации сервер возвращает токен, уникальный для каждого конкретного клиента. В отличие от куки, данный токен хранится исключительно на стороне клиента и отправляется клиентом только по запросу сервера. Существует несколько типов аутентификации, конкретный метод определяется тем веб-сервером или веб-приложением, к которому клиент обращается за ресурсом.|

---

**Тело запроса**

*Завершающая часть HTTP-запроса* — это его тело. Не у каждого HTTP-метода предполагается наличие тела. Так, например, методам вроде GET, HEAD, DELETE, OPTIONS обычно не требуется тело. Некоторые виды запросов  могут отправлять данные на сервер в теле запроса: самый распространенный из таких методов — POST.

**Ответы HTTP**

HTTP-ответ является сообщением, которое сервер отправляет клиенту в ответ на его запрос. Его структура равна структуре HTTP-запроса: **стартовая строка, заголовки и тело.**


---
**Строка статуса (Status line)**

Стартовая строка HTTP-ответа называется строкой статуса (status line). На ней располагаются следующие элементы:

- Версия протокола (HTTP/2 или HTTP/1.1).
- Код состояния, который указывает, насколько успешно завершилась обработка запроса.
- Пояснение — короткое текстовое описание к коду состояния. 
![](https://selectel.ru/blog/wp-content/uploads/2022/06/image2-1.png)

**Коды состояния и текст статуса**
Коды состояния HTTP используются для того, чтобы сообщить клиенту статус их запроса. HTTP-сервер может вернуть код, принадлежащий одной из пяти категорий кодов состояния:


|**Категория**|**Описание**|
|---|----|
|1xx|Коды из данной категории носят исключительно информативный характер и никак не влияют на обработку запроса.|
|2xx|Коды состояния из этой категории возвращаются в случае успешной обработки клиентского запроса.|
|3xx|Эта категория содержит коды, которые возвращаются, если серверу нужно перенаправить клиента.|
|4xx|Коды данной категории означают, что на стороне клиента был отправлен некорректный запрос. Например, клиент в запросе указал не поддерживаемый метод или обратился к ресурсу, к которому у него нет доступа.|
|5xx|Ответ с кодами из этой категории приходит, если на стороне сервера возникла ошибка.|

---

**Заголовки ответа**
Response Headers, или заголовки ответа, используются для того, чтобы уточнить ответ, и никак не влияют на содержимое тела. Они существуют в том же формате, что и остальные заголовки, а именно  «Имя-Значение» с двоеточием (:) в качестве разделителя.

Ниже приведены наиболее часто встречаемые в ответах заголовки:

|**Категория**|**Пример**|**Описание**|
|---|----|---|
|Server|Server: ngnix|Содержит информацию о сервере, который обработал запрос. |
|Set-Cookie|Set-Cookie:PHPSSID=bf42938f|Содержит куки, требуемые для идентификации клиента. Браузер парсит куки и сохраняет их в своем хранилище для дальнейших запросов.|
|WWW-Authenticate|WWW-Authenticate: BASIC realm=»localhost»|Уведомляет клиента о типе аутентификации, который необходим для доступа к запрашиваемому ресурсу.|

**HTTP-cookie (далее просто cookie**) — это небольшой фрагмент данных, который веб-сервер отправляет в веб-браузер клиента с целью идентификации пользователя и хранения информации о его предпочтениях и сессии. C

**Хранение**
Cookie хранятся в веб-браузере клиента и отправляются обратно на сервер при каждом запросе на соответствующий домен. 

**Использование**
Cookie используются для:
- Аутентификации пользователя
- Хранения предпочтений пользователя
- Ведения сессии пользователя
- Отслеживания поведения пользователя на сайте

---

**Пример запроса:**

```
GET /index.html HTTP/1.1
Host: www.example.com
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
Accept-Language: en-US,en;q=0.5
Accept-Encoding: gzip, deflate
Connection: keep-alive
````
---

**Пример ответа:**

```
HTTP/1.1 200 OK
Content-Type: text/html; charset=UTF-8
Content-Length: 1256
Connection: keep-alive
Date: Sun, 21 Jul 2024 12:00:00 GMT

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Example Page</title>
</head>
<body>
    <h1>Welcome to Example Page!</h1>
    <p>This is a simple HTML page served by the server.</p>
</body>
</html>
```

---